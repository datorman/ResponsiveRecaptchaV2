/*@preserve
  Author: Mike Shutov
  Date: August 2019
  Description: Plugin which solves a few issues with the recaptchaV2 checkbox when it comes to styles on mobile devices and its overall ability to be styled. Also adds a few additional minor features which could be useful.
*/
function renderCaptcha(){ResponsiveRecaptcha.setState("ready"),ResponsiveRecaptcha.renderAll()}!function(){var s={},t="";ResponsiveRecaptcha=function(e){"ready"!=t&&"loading"!=t&&LoadRecaptchaAssets(),CaptchaExists(e.el)?console.log("Recaptcha Already Exists at element: "+e.el+"."):(s[e.el]=Object.settings={el:e.el,siteKey:e.sitekey,verifyCallback:e.callback||function(){},expiredCallback:e.expiredCallback||function(){},errorCallback:e.errorCallback||function(){},verified:!1,error:e.error||!1,wrapperClasses:e.wrapperClasses||"",mode:e.mode||"horizontal",theme:e.theme||"light",expiredMessage:e.expiredError||"Verification expired. Check the recaptcha again.",errorMessage:e.errorMessage||"An Error Has Occured with Recaptcha.",errorCustom:e.errorCustom||"",debug:!1,tabindex:e.tabindex||0,errorPosition:e.errorPosition||"top"},this.settings=s[e.el],"ready"===t&&ResponsiveRecaptcha.renderOne(e.el),ResponsiveChallange())},CaptchaExists=function(r){return Object.keys(s).filter(function(e){return e===r}).length},LoadRecaptchaAssets=function(){t="loading";var e=document.getElementsByTagName("script"),r="https://www.google.com/recaptcha/api.js?onload=renderCaptcha&render=explicit";for(script in e)if(e[script].src===r)return;var a=document.createElement("script");a.setAttribute("src",r),a.async=!0,a.defer=!0,document.head.appendChild(a)},ResponsiveChallange=function(){var r=setInterval(r,100);function r(){var e=document.querySelectorAll('iframe[title*="recaptcha challenge"]');e.length===ResponsiveRecaptcha.size()&&(clearInterval(r),e.forEach(function(e){e.parentNode.parentNode.classList.add("recaptcha-challange")}))}},ResponsiveRecaptchaError=function(e,r,a){var t="";if("error"===r?t=s[e].errorMessage:"expired"===r?t=s[e].expiredMessage:"custom"===r&&(t=a),0<document.querySelectorAll("#"+e+" .responsiveRecaptcha .recaptcha-error .message").length)document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error .message").textContent=t;else{var c=document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error");c.classList.add(r),c.innerHTML='<p class="message">'+t+"</p>"}},ClearError=function(e){document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error").innerHTML=""},ResetRecaptcha=function(e){grecaptcha.reset(e)},ResponsiveRecaptcha.size=function(){return Object.keys(s).length},ResponsiveRecaptcha.renderOne=function(r){var e=document.createElement("div");e.className="responsiveRecaptcha "+s[r].mode+" "+s[r].theme,e.innerHTML='<div class="recaptcha-error '+s[r].errorPosition+'"></div><div class="grecapWrapper '+s[r].wrapperClasses+'"><div class="recap"></div><div class="grecapTerms"><div class="g-recap-logo"></div><div class="g-recap-logo-text">reCAPTCHA</div><div class="g-recap-logo-links"><a href="https://www.google.com/intl/en/policies/privacy/" target="_blank">Privacy</a><span aria-hidden="true" role="presentation"> - </span><a href="https://www.google.com/intl/en/policies/terms/" target="_blank">Terms</a></div></div></div>',document.getElementById(r).appendChild(e),s[r].recaptcha=grecaptcha.render(document.querySelector("#"+r+" .recap"),{sitekey:s[r].siteKey,callback:function(e){s[r].verified=!0,s[r].successToken=e,s[r].successTimestamp=Date.now(),s[r].verifyCallback(e,s[r])},"expired-callback":function(){setTimeout(function(){ResetRecaptcha(s[r].recaptcha)},100),s[r].verified=!1,delete s[r].successToken,delete s[r].successTimestamp,ResponsiveRecaptchaError(s[r].el,"expired"),s[r].expiredCallback(s[r])},"error-callback":function(){ResponsiveRecaptchaError(s[r].el),s[r].errorCallback(s[r])},theme:s[r].theme,tabindex:s[r].tabindex}),s[r].rendered=!0,s[r].initialized=Date.now(),!0===s[r].error&&ResponsiveRecaptchaError(s[r].el,"custom",s[r].errorCustom)},ResponsiveRecaptcha.renderAll=function(){for(captcha in s)!0!==s[captcha].rendered&&ResponsiveRecaptcha.renderOne(s[captcha].el)},ResponsiveRecaptcha.setState=function(e){t=e},ResponsiveRecaptcha.getAll=function(){return s},ResponsiveRecaptcha.getBySelector=function(e){return s[e]},ResponsiveRecaptcha.prototype.reset=function(){ResetRecaptcha(this.settings.recaptcha)},ResponsiveRecaptcha.prototype.getResponse=function(){return grecaptcha.getResponse(this.settings.recaptcha)},ResponsiveRecaptcha.prototype.setError=function(e,r){return e?-1===["error","expired","custom"].indexOf(e)?console.log("Invalid Mode"):void ResponsiveRecaptchaError(this.settings.el,e,r):console.log("Please provide a mode (error,expired,custom)")},ResponsiveRecaptcha.prototype.clearError=function(){ClearError(this.settings.el)},document.querySelectorAll(".g-recaptcha").forEach(function(e){e.id||(e.id="autoResponsiveRecaptcha-"+Date.now());var r={el:e.id};for(data in e.dataset)r[data]=e.dataset[data],"error"===data&&(r[data]=!0);ResponsiveRecaptcha(r)}),window.ResponsiveRecaptcha=ResponsiveRecaptcha}();