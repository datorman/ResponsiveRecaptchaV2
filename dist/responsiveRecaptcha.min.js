/*@preserve
  Author: Mike Shutov
  Date: August 2019
  Description: Plugin which solves a few issues with the recaptchaV2 checkbox when it comes to styles on mobile devices and its overall ability to be styled. Also adds a few additional minor features which could be useful.
*/
function renderCaptcha(){ResponsiveRecaptcha.setState("ready"),ResponsiveRecaptcha.renderAll()}!function(){var captchas={},state="";ResponsiveRecaptcha=function(e){"ready"!=state&&"loading"!=state&&LoadRecaptchaAssets(),CaptchaExists(e.el)?console.log("Recaptcha Already Exists at element: "+e.el+"."):(captchas[e.el]=Object.settings={el:e.el,siteKey:e.sitekey,verifyCallback:e.callback||function(){},expiredCallback:e.expiredCallback||function(){},errorCallback:e.errorCallback||function(){},verified:!1,error:e.error||!1,wrapperClasses:e.wrapperClasses||"",mode:e.mode||"horizontal",theme:e.theme||"light",expiredMessage:e.expiredError||"Verification expired. Check the recaptcha again.",errorMessage:e.errorMessage||"An Error Has Occured with Recaptcha.",errorCustom:e.errorCustom||"",debug:!1,tabindex:e.tabindex||0,errorPosition:e.errorPosition||"top"},this.props=captchas[e.el],"ready"===state&&ResponsiveRecaptcha.renderOne(e.el),ResponsiveChallange())},CaptchaExists=function(a){return Object.keys(captchas).filter(function(e){return e===a}).length},LoadRecaptchaAssets=function(){state="loading";var e=document.getElementsByTagName("script"),a="https://www.google.com/recaptcha/api.js?onload=renderCaptcha&render=explicit";for(script in e)if(e[script].src===a)return;var c=document.createElement("script");c.setAttribute("src",a),c.async=!0,c.defer=!0,document.head.appendChild(c)},ResponsiveChallange=function(){var a=setInterval(a,100);function a(){var e=document.querySelectorAll('iframe[title*="recaptcha challenge"]');e.length===ResponsiveRecaptcha.size()&&(clearInterval(a),e.forEach(function(e){e.parentNode.parentNode.classList.add("recaptcha-challange")}))}},ResponsiveRecaptchaError=function(e,a,c){var t="";if("error"===a?t=captchas[e].errorMessage:"expired"===a?t=captchas[e].expiredMessage:"custom"===a&&(t=c),0<document.querySelectorAll("#"+e+" .responsiveRecaptcha .recaptcha-error .message").length)document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error .message").textContent=t;else{var r=document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error");r.classList.add(a),r.innerHTML='<p class="message">'+t+"</p>"}},ClearError=function(e){document.querySelector("#"+e+" .responsiveRecaptcha .recaptcha-error").innerHTML=""},ResetRecaptcha=function(e){grecaptcha.reset(e)},ResponsiveRecaptcha.size=function(){return Object.keys(captchas).length},ResponsiveRecaptcha.renderOne=function(captchaEl){var re=document.createElement("div");re.className="responsiveRecaptcha "+captchas[captchaEl].mode+" "+captchas[captchaEl].theme,re.innerHTML='<div class="recaptcha-error '+captchas[captchaEl].errorPosition+'"></div><div class="grecapWrapper '+captchas[captchaEl].wrapperClasses+'"><div class="recap"></div><div class="grecapTerms"><div class="g-recap-logo"></div><div class="g-recap-logo-text">reCAPTCHA</div><div class="g-recap-logo-links"><a href="https://www.google.com/intl/en/policies/privacy/" target="_blank">Privacy</a><span aria-hidden="true" role="presentation"> - </span><a href="https://www.google.com/intl/en/policies/terms/" target="_blank">Terms</a></div></div></div>',document.getElementById(captchaEl).appendChild(re),captchas[captchaEl].recaptcha=grecaptcha.render(document.querySelector("#"+captchaEl+" .recap"),{sitekey:captchas[captchaEl].siteKey,callback:function(token){captchas[captchaEl].verified=!0,captchas[captchaEl].successToken=token,captchas[captchaEl].successTimestamp=Date.now(),"string"==typeof captchas[captchaEl].verifyCallback?eval("("+captchas[captchaEl].verifyCallback+")();"):captchas[captchaEl].verifyCallback(token,captchas[captchaEl])},"expired-callback":function(){setTimeout(function(){ResetRecaptcha(captchas[captchaEl].recaptcha)},100),captchas[captchaEl].verified=!1,delete captchas[captchaEl].successToken,delete captchas[captchaEl].successTimestamp,ResponsiveRecaptchaError(captchas[captchaEl].el,"expired"),"string"==typeof captchas[captchaEl].expiredCallback?eval("("+captchas[captchaEl].expiredCallback+")();"):captchas[captchaEl].expiredCallback(captchas[captchaEl])},"error-callback":function(){ResponsiveRecaptchaError(captchas[captchaEl].el),"string"==typeof captchas[captchaEl].errorCallback?eval("("+captchas[captchaEl].errorCallback+")();"):captchas[captchaEl].errorCallback(captchas[captchaEl])},theme:captchas[captchaEl].theme,tabindex:captchas[captchaEl].tabindex}),captchas[captchaEl].rendered=!0,captchas[captchaEl].initialized=Date.now(),!0===captchas[captchaEl].error&&ResponsiveRecaptchaError(captchas[captchaEl].el,"custom",captchas[captchaEl].errorCustom)},ResponsiveRecaptcha.renderAll=function(){for(captcha in captchas)!0!==captchas[captcha].rendered&&ResponsiveRecaptcha.renderOne(captchas[captcha].el)},ResponsiveRecaptcha.setState=function(e){state=e},ResponsiveRecaptcha.getAll=function(){return captchas},ResponsiveRecaptcha.getBySelector=function(e){return captchas[e]},ResponsiveRecaptcha.prototype.reset=function(){ResetRecaptcha(this.props.recaptcha)},ResponsiveRecaptcha.prototype.getResponse=function(){return grecaptcha.getResponse(this.props.recaptcha)},ResponsiveRecaptcha.prototype.setError=function(e,a){return e?-1===["error","expired","custom"].indexOf(e)?console.log("Invalid Mode"):void ResponsiveRecaptchaError(this.props.el,e,a):console.log("Please provide a mode (error,expired,custom)")},ResponsiveRecaptcha.prototype.clearError=function(){ClearError(this.props.el)},document.querySelectorAll(".g-recaptcha").forEach(function(e){e.id||(e.id="autoResponsiveRecaptcha-"+Date.now());var a={el:e.id};for(data in e.dataset)a[data]=e.dataset[data],"error"===data&&(a[data]=!0);ResponsiveRecaptcha(a)}),window.ResponsiveRecaptcha=ResponsiveRecaptcha}();